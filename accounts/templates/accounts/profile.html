{% extends "base.html" %}

{% block content %}
<div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:1rem;">
  <h1 style="margin:0;">Perfil</h1>
  <span style="color:#cbd5e1;font-size:13px;">Suas informações de conta</span>
</div>

<div style="display:grid;gap:1rem;grid-template-columns: repeat(auto-fit,minmax(260px,1fr));">
  <div style="background:#0b1220;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:1rem;">
    <h3 style="margin:0 0 8px;">Conta</h3>
    <div style="color:#cbd5e1;font-size:14px;display:flex;flex-direction:column;gap:4px;">
      <div><strong>Nome:</strong> {{ user_obj.get_full_name|default:user_obj.username }}</div>
      <div><strong>E-mail:</strong> {{ user_obj.email }}</div>
      <div><strong>Plano:</strong> {% if profile %}{{ profile.get_plan_display }}{% else %}N/D{% endif %}</div>
      <div><strong>Expira em:</strong> {% if profile and profile.plan_expires_at %}{{ profile.plan_expires_at|date:"d/m/Y H:i" }}{% else %}N/D{% endif %}</div>
    </div>
    <div style="margin-top:12px;">
      <a class="btn btn-primary" href="{% url 'payments:plans' %}">Ver planos</a>
    </div>
  </div>

  <div style="background:#0b1220;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:1rem;">
    <h3 style="margin:0 0 8px;">Contato</h3>
    <div style="color:#cbd5e1;font-size:14px;display:flex;flex-direction:column;gap:4px;">
      <div><strong>Telefone:</strong> {{ profile.phone|default:"N/D" }}</div>
      <div><strong>País:</strong> {{ profile.country|default:"N/D" }}</div>
      <div><strong>Estado:</strong> {{ profile.state|default:"N/D" }}</div>
      <div><strong>Cidade:</strong> {{ profile.city|default:"N/D" }}</div>
    </div>
  </div>

  <div style="background:#0b1220;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:1rem;">
    <h3 style="margin:0 0 8px;">Preferências</h3>
    <div style="color:#cbd5e1;font-size:14px;display:flex;flex-direction:column;gap:4px;">
      <div><strong>Receber e-mails:</strong> {% if profile.email_opt_in %}Sim{% else %}Não{% endif %}</div>
      <div><strong>Fuso horário:</strong> {{ profile.timezone|default:"N/D" }}</div>
      <div><strong>Último reset:</strong> {% if profile.last_reset_at %}{{ profile.last_reset_at|date:"d/m/Y H:i" }}{% else %}N/D{% endif %}</div>
    </div>
  </div>
</div>
{% endblock %}
